<div class="pt20">
  <div class="d3 vertical bb"
      lib-d3="true"
      data-run-after="model.draw_preview"
      data-run-msg="{'el_id':'.{{= _self_.el_id }}'}"
      data-on-mouse-down="model.start_drag"
      data-on-mouse-move="model.drag"
      data-on-mouse-up="model.stop_drag"
      data-on-touch-start="model.start_drag"
      data-on-touch-move="model.drag"
      data-on-touch-end="model.stop_drag"
      data-on-touch-cancel="model.stop_drag"
      data-on-mouse-leave="model.stop_drag">
    <svg class="drawing_area" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"></svg>
  </div>
  <div class="block-wrapper p10">
    <div class="flex-evenly bb pt10 pb10 fs14 lh18 no-stuffing strong">
      <div class="flex-column vertical-align clickable"
          data-on-click="model.step_mirror">
        <span class="pt5 black f-xlarge bg-white fas fa-arrows-alt" data-if="{{= model.edit.mirror }} == both"></span>
        <span class="pt5 black f-xlarge bg-white fas fa-arrows-alt-v" data-if="{{= model.edit.mirror }} == vertical"></span>
        <span class="pt5 black f-xlarge bg-white fas fa-arrows-alt-h" data-if="{{= model.edit.mirror }} == horizontal"></span>
        <span class="pt5 black f-xlarge bg-white far fa-square" data-if="{{= model.edit.mirror }} == false"></span>
        <p class="fs14 lh18 no-stuffing strong">MIRROR</p>
      </div>
      <div class="flex-column vertical-align fs14 lh18 no-stuffing strong">
        <input class="w40p center black-border"
            type="text"
            pattern="[0-9]*"
            placeholder="1"
            data-field="model.edit.multiply"
            value="{{= model.data.multiply }}"
            data-on-update="model.multiply_change"
            data-on-key-enter="blur" />
        <p class="fs14 lh18 no-stuffing strong">MULTIPLY</p>
      </div>
      <div class="flex-column vertical-align no-stuffing center"
          data-if="{{= model.path_count }} == 0">
        <div class="w40p b2 black-border corner-5px fs14 center strong lh20 p10 pt7 pb7 clickable"
            data-on-click="model.firstR_change">
          {{= model.edit.firstR }}
        </div>
        <p class="fs14 lh18 no-stuffing strong">RHO START<span data-if="{{= model.edit.mirror }} !== false">/END</span></p>
      </div>
      <div class="flex-column grey vertical-align no-stuffing center"
          data-if="{{= model.path_count }} > 0">
        <div class="w40p b2 corner-5px fs14 strong lh20 p10 pt7 pb7">{{= model.edit.firstR }}</div>
        <p class="fs14 lh18 no-stuffing strong">RHO START<span data-if="{{= model.edit.mirror }} !== false">/END</span></p>
      </div>
      <div class="flex-column vertical-align fs14 lh18 no-stuffing strong center"
          data-if="{{= model.edit.mirror }} == false">
        <div class="w40p b2 black-border corner-5px last-center fs14 lh20 p10 pt7 pb7 clickable"
            data-on-click="model.lastR_change">
          {{= model.edit.lastR }}
        </div>
        <p class="fs14 lh18 no-stuffing strong">RHO END</p>
      </div>
    </div>
    <!-- <div class="w100 flex relative bb pt10 pb10 pl20">
      <div class="clickable"
          data-on-click="model.toggle_streaming">
        <p class="f-medium no-stuffing strong">
          <span class="pt5 black bg-white far fa-check-square" data-if="{{= model.is_streaming }} == true"></span>
          <span class="pt5 black bg-white far fa-square" data-if="{{= model.is_streaming }} == false"></span>
          Live Preview
        </p>
      </div>
    </div> -->
    <h3 class="no-stuffing p20 pb10 fs18 lh18 strong">Smoothing</h3>
    <div class="w100 flex relative center">
      <span class="w2-5"></span>
      <input class="w90"
        type="range"
        min="0"
        max="0.25"
        step="0.025"
        data-field="model.smooth"
        value="{{= model.smooth }}" />
      <span class="w2-5"></span>
    </div>
    <div class="flex-column pl30 pr30 pt25 pb50">
      <div class="flex-justify-center">
        <div class="mt30 p15 btn bg-blue w100 m0 corner-5px uppercase clickable active fs18 strong"
            data-on-click="model.save"
            data-if="{{= model.path_count }} > 0">Save</div>
        <div class="mt30 p15 btn bg-grey-l w100 m0 corner-5px uppercase fs18 strong"
            data-if="{{= model.path_count }} <= 0">Save</div>
      </div>
      <div class="flex-justify-center">
        <div class="mt30 p15 btn bg-grey-l w100 m0 corner-5px uppercase clickable active fs18 strong"
            data-on-click="model.clear">Clear</div>
      </div>
    </div>
  </div>
  <div class="pb150">&nbsp;</div>
</div>
