<div class="flex bg-d-grey white">
    <div class="no-stuffing w5 p10"></div>
    <div class="no-stuffing w25 p10 clickable bg-grey-l-hover h__k"
        data-on-click="model.comparator_change"
        data-msg="data.name"
    ><span class="clickable">
            <span>Name</span>
            <span class="h__k" data-if="{{= model.comparator.key }} == data.name">
                <span class="h__k" data-if="{{= model.comparator.ord }} == asc"><i class="fa fa-caret-down" aria-hidden="true"></i></span>
                <span class="h__k" data-if="{{= model.comparator.ord }} == dsc"><i class="fa fa-caret-up" aria-hidden="true"></i></span>
            </span>
        </span>
    </div>
    <div class="no-stuffing w10 p10"># Tracks</div>
    <div class="no-stuffing w10 p10">Duration</div>
    <div class="no-stuffing w15 p10">Published?</div>
    <div class="no-stuffing w15 p10">User</div>
    <div class="no-stuffing w20 p10"></div>
</div>
<div class="bg-white m0 h__k"
    data-cluster="{'type':'playlist','is_deleted':'false','is_saved':'true'}"
    data-cluster-comparator="model.comparator"
    data-subscribe-ctx="model"
    data-subscribe="change:comparator"
    data-on-subscribe="cluster_comparator"
>
    <div class="h__k center i p20" data-if="{{= app.plugins.length(_cluster_) }} == 0">
        There are no playlists to show. Open the context menu to create one
    </div>
    <div class="h__k"
        data-if="{{= app.plugins.length(_cluster_) }} !== 0"
        data-foreach="cluster"
        data-foreach-render="foreach_reset"
        data-foreach-add="foreach_reset"
        data-foreach-remove="foreach_reset"
        data-foreach-sort="foreach_reset"
    >
        <div class="flex bb bg-white bg-grey-ll-hover clickable">
            <div class="no-stuffing w5 p10"><i class="fa fa-bars"></i></div>
            <div class="no-stuffing w25 p10 h__k"
                data-on-click="publish"
                data-publish="session:active"
                data-msg="{'playlist_id':'{{= model.id }}'}"
            >{{= model.data.name }}</div>
            <div class="no-stuffing w10 p10 h__k"
                data-on-click="publish"
                data-publish="session:active"
                data-msg="{'playlist_id':'{{= model.id }}'}"
            >{{= app.plugins.length(model.data.tracks) }}</div>
            <div class="no-stuffing w10 p10 h__k"
                data-on-click="publish"
                data-publish="session:active"
                data-msg="{'playlist_id':'{{= model.id }}'}"
            >{{= model.data.duration_formatted }}</div>
            <div class="no-stuffing w15 p10">
                <div class="h__k {{= (model.data.is_published == 'true') ? '' : 'hide' }}"
                    data-field="model.data.is_published"
                    data-on-click="toggle"
                >
                    <input class="cmn-toggle cmn-toggle-round h__k" type="checkbox" checked>
                    <label for="cmn-toggle-1"></label>
                </div>
                <div class="h__k {{= (model.data.is_published == 'false') ? '' : 'hide' }}"
                    data-field="model.data.is_published"
                    data-on-click="toggle"
                >
                    <input class="cmn-toggle cmn-toggle-round h__k" type="checkbox">
                    <label for="cmn-toggle-1" class="h__k"></label>
                </div>
            </div>
            <div class="no-stuffing w15 p10 h__k"
                data-on-click="publish"
                data-publish="session:active"
                data-msg="{'playlist_id':'{{= model.id }}'}"
            >{{= model.data.created_by_name }}</div>
            <div class="no-stuffing w20 p10">
                <div class="h__k" data-on-click="model.erase" title="Delete">
                    <i class="fa fa-trash l-grey bblack-hover w25p pull-right"></i>
                </div>
            </div>
        </div>
    </div>
</div>
