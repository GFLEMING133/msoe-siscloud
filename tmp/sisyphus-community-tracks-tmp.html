<div class="h100" data-model="{{= session.community_id }}">
  <div class="pull-top bg-black">
    <div class="white bg-black w100 center no-stuffing flex vertical-align bb-white">
      <div class="w15 center f-large">&nbsp;</div>
      <div class="w70">
        <h3 class="no-stuffing pt10 pb10 mt5 fs18 capitalize strong">Track Search</h3>
      </div>
      <div class="w15 pt20 pb20 center f-large">&nbsp;</div>
    </div>
    <div class="flex p10 bg-black w100">
      <div class="flex1center white strong uppercase">Sort By</div>

        <div class="sortBy-drop-actions" data-on-click="model.openSort">
          <div class="p10 flex strong white uppercase">
            <div class="flex1center">{{= model.track_sort}}</div>
            <div class="relative">
                <i class="SortUp fas fa-sort-up fa-2x"></i>
                <i class="SortDown fas fa-sort-down fa-2x"></i>
            </div>
          </div>
        </div>
      <div class="flex1center">
        <div class="clickable " data-if="{{= model.download_cloud }} == true" data-on-click="model.download_wc">
          <img src="img/download_white.png" alt="Download Cloud" class="dl_cloud">
        </div>
      </div>
    </div>
      <div class="sortBy-container-contents">
        <ul class="flex-column p10 fs14">
          <li class="clickable mb10"
              data-on-click="model.sort_function"
              data-on-click="model.sort_function"
              data-on-click="publish"
              data-publish="session:active"
              data-msg="newest designs">
            <a class="white strong">NEWEST DESIGNS</a></li>
          <li class="clickable mb10"
              data-on-click="model.sort_function"
              data-on-click="model.sort_function"
              data-on-click="publish"
              data-publish="session:active"
              data-msg="most popular">
            <a class="white strong">MOST POPULAR</a></li>
          <li class="clickable mb10"
              data-on-click="model.sort_function"
              data-on-click="model.sort_function"
              data-on-click="publish"
              data-msg="name">
            <a class="white strong">NAME</a></li>
          <li class="clickable mb10"
              data-on-click="model.sort_function"
              data-on-click="publish"
              data-publish="session:active"
              data-msg="artist">
            <a class="white strong">ARTIST</a></li>
          <div data-if="{{= model.sorting }} == true">
            <div class="mb10 white" data-template="spinner-bounce-tmp"></div>
          </div>
        </ul>
      </div>

  </div>
  <div class="body-header h100 scroll hide-scrollbar pb200 " data-run="model.fetch_community_tracks">
    <div class="pt150" data-if="{{= model.fetching_community_tracks }} == true">
      <div class="p20 center blue-l i">Fetching tracks...</div>
      <div class="mb20 black" data-template="spinner-bounce-tmp"></div>
    </div>
    <div class="pt65 pb100" data-if="{{= model.fetching_community_tracks }} == false">
      <div data-if="{{= app.plugins.length(model.community_track_ids) }} > 0"
          data-foreach="model.community_track_ids"
          data-foreach-map="true">
        <div data-template="sisyphus-community-tracks-list-item-tmp"></div>
      </div>
      <div class="p20 center fs18 blue w100 pt200 i"
          data-if="{{= app.plugins.length(model.community_track_ids) }} == 0">There are no new tracks to download.</div>
    </div>
  </div>
</div>
