<div class="h100" data-model="{{= session.community_id }}">
  <div class="pull-top bg-black">
    <div class="white bg-black w100 center no-stuffing flex vertical-align bb-white">
      <div class="w15 center f-large">&nbsp;</div>
      <div class="w70">
        <h3 class="no-stuffing pt10 pb10 mt5 fs18 capitalize strong">Track Search</h3>
      </div>
      <div class="w15 pt20 pb20 center f-large">&nbsp;</div>
    </div>
    <div class="absolutely bg-black w100">
      <div class="pl15 pb15 bg-black absolutely w100">
        <div class="community-sortBy-header"><span class="sortBy-text">Sort By</span></div>
        <div class="sortBy-drop-actions" data-on-click="model.openSort">
          <div class="sortBy-SORT-style uppercase">
            {{= model.track_sort}}
          </div>
          <div class="upDown-arrows">
            <i class="SortUp fas fa-sort-up fa-2x"></i>
            <i class="SortDown fas fa-sort-down fa-2x"></i>
          </div>
        </div>
      </div>

      <div class="w20 w10 clickable center" data-if="{{= model.download_cloud }} == true" data-on-click="model.download_wc">
        <img src="img/download_white.png" alt="Download Cloud" class="dl_cloud">
      </div>
      <div class="sortBy-container-contents">
        <ul class="sortBy-list">
          <li class="clickable" data-on-click="model.sort_function" data-on-click="model.sort_function" data-on-click="publish" data-publish="session:active" data-msg="newest designs">
            <a class="sortBy-item">NEWEST DESIGNS</a></li>
          <li class="clickable" data-on-click="model.sort_function" data-on-click="model.sort_function" data-on-click="publish" data-publish="session:active" data-msg="most popular">
            <a class="sortBy-item">MOST POPULAR</a></li>
          <li class="clickable" data-on-click="model.sort_function" data-on-click="model.sort_function" data-on-click="publish" data-msg="name">
            <a class="sortBy-item">NAME</a></li>
          <li class="clickable" data-on-click="model.sort_function" data-on-click="publish" data-publish="session:active" data-msg="artist">
            <a class="sortBy-item">ARTIST</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="sortBy-container-contents">
    <ul class="sortBy-list">
      <!-- TODO: Fix these li. What are they supposed to do? -->
      <li class="clickable" data-on-click="model.sort_function" data-on-click="publish" data-publish="session:active" data-msg="newest designs">
        <a class="sortBy-item">NEWEST DESIGNS</a></li>
      <li class="clickable" data-on-click="model.sort_function" data-on-click="publish" data-msg="name">
        <a class="sortBy-item">NAME</a></li>
      <li class="clickable" data-on-click="model.sort_function" data-on-click="publish" data-publish="session:active" data-msg="artist">
        <a class="sortBy-item">ARTIST</a></li>
    </ul>
  </div>

  <div class="body-header h100 scroll hide-scrollbar pb200 " data-run="model.fetch_community_tracks">
    <div class="pt150" data-if="{{= model.fetching_community_tracks }} == true">
      <div class="p20 center blue-l i">Fetching tracks...</div>
    </div>
    <div class="pt65 pb100" data-if="{{= model.fetching_community_tracks }} == false">
      <div  data-if="{{= app.plugins.length(model.community_track_ids) }} > 0" data-foreach="model.community_track_ids" data-foreach-change="foreach_reset" data-foreach-map="true">
        <div  data-template="sisyphus-community-tracks-list-item-tmp"></div>
      </div>
      <div class="p20 center fs18 blue w100 pt200 i" data-if="{{= app.plugins.length(model.community_track_ids) }} == 0">There are no new tracks to download.
      </div>
    </div>
  </div>
</div>
