<div class="h100">
    <div class="pull-top white bg-black hh50 w100 center no-stuffing flex vertical-align">
        <div class="w15 center clickable blue-hover h__k"
            data-on-click="publish"
            data-publish="session:active"
            data-msg="{'secondary':'advanced_settings'}"
        ><img src="img/icon_2x_button_back.png" alt="Back" class="hh50 pt15 pb15" /></div>
        <div class="w70">
            <h1 class="h__k no-stuffing fs18 lh18 capitalize truncate">Connect to Wifi</h1>
        </div>
        <div class="w15 center f-large">&nbsp;</div>
    </div>
    <div class="body-header h100 scroll hide-scrollbar h__k" data-model="{{= model.sisbot_id }}" data-run="model.get_networks">
        <div class="bg-red white center i p20 h__k" data-if="{{= model.data.failed_to_connect_to_wifi }} == true">
            We were unable to connect your Sisyphus to your local WiFi network with the credentials you provided.
            Please double check that you entered them correctly and try again.
        </div>
        <div class="p20">
            <h4 class="no-stuffing fs18 lh18 pb5 strong">Network Name</h4>
            <div class="select-box block mb50 relative">
                <div class="absolute z20">
                    <select class="w100 h__k fs18 p10"
                        data-field="model.wifi.name"
                        data-foreach="model.wifi_networks"
                        data-foreach-add="foreach_reset"
                        data-foreach-change="foreach_reset"
                        data-foreach-default="WiFi Networks"
                        data-on-change="foreach_reset"
                    ><option class="h__k pt5 pb5" value="{{= scope.value }}">{{= scope.value }}</option></select>
                </div>
                <div class="absolute z10">
                    <p class="no-stuffing fa fa-chevron-down pull-right bg-grey f-med white pl10 pr10 pt10 relative z10"
                        style="padding-bottom: 12px !important;"
                        aria-hidden="true"
                    ></>
                </div>
            </div>
            <h4 class="no-stuffing pt20 fs18 lh18 pb5 strong">Network Password</h4>
            <div class="h__k" data-if="{{= model.wifi_error }} == false">
                <input class="h__k corner-5px mt5 mb5 fs18 w100" type="text" placeholder="password"
                    autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"
                    data-field="model.wifi.password"
                    value="{{= model.wifi.wifi_password }}"
                />
            </div>
            <div class="h__k" data-if="{{= model.wifi_error }} == true">
                <input class="h__k fs18 error-border corner-5px mt5 mb5 w100" type="text" placeholder="password"
                    autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"
                    data-field="model.wifi.password"
                    value="{{= model.wifi.wifi_password }}"
                />
                <div class="pull-right error f-small">Wi-Fi password cannot be blank</div>
            </div>
            <div class="h__k" data-if="{{= model.wifi_error }} == incorrect">
                <input class="h__k fs18 error-border corner-5px mt5 mb5 w100" type="text" placeholder="password"
                    autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"
                    data-field="model.wifi.password"
                    value="{{= model.wifi.wifi_password }}"
                />
                <div class="pull-right error f-small h__k">Incorrect Wi-Fi Password</div>
            </div>

            <p class="btn bg-blue w100 m0 mt20 p15 fs18 lh18 corner-5px strong uppercase clickable h__k"
                data-if="{{= model.is_connecting_to_wifi }} == false"
                data-on-click="model.connect_to_wifi"
            >Connect</p>
            <p class="btn bg-grey-ll w100 m0 mt20 p15 fs18 lh18 corner-5px strong uppercase h__k"
                data-if="{{= model.is_connecting_to_wifi }} == true"
            >Connect</p>

            <span class="block hh20">&nbsp;</span>

            <div class="p20 center i h__k" data-if="{{= model.is_connecting_to_wifi }} == true">
                <div class="h__k mb20 black" data-template="spinner-bounce-tmp"></div>
                <div class="h__k fs18 lh18">
                    Connecting...
                </div>
            </div>
        </div>
    </div>
</div>
