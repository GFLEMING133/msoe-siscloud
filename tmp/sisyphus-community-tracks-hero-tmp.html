<div data-model="{{= session.active.track_id}}">
  <div class="white bg-black hh50 w100 center no-stuffing flex vertical-align bb-white">
    <div class="w15 left pl20 clickable active"
      data-on-click="publish"
      data-publish="session:active"
      data-msg="{'secondary':'community-tracks'}"><img src="img/icon_2x_button_back.png" alt="Back" class="hh50 pt15 pb15"
      tg-name="community_track_hero_page" /></div>
    <div class="w70">
      <h1 class="no-stuffing fs18 strong communityTrack capitalize truncate">View Track</h1>
    </div>
    <div class="w15 center f-large">&nbsp;</div>
  </div>

<div class="overlay">
  <div class="flex mt20p">
    <div class="w20">&nbsp;</div>
    <div class="hvw40 center vertical active">
      <div>
        <img class="w100 center img-rounded" alt="{{= model.data.name }}" src="{{= app.config.get_api_url()}}{{= model.data.large_photo }}" />
      </div>
    </div>
    <div class="w20">&nbsp;</div>
  </div>
  <div class="flex-column">
    <div class="fs18 lh20 pt20 white strong center">{{= model.data.name }}</div>
    <div class="fs12 lh20  white strong center">by {{= model.data.created_by_name }}</div>
  </div>

  <div class="flex1start active clickable pl20">
    <img src="img/icon_2x_trackdropdown_openheart.png"
    alt="Favorite"
    class="hh20"
    data-if="{{= model.is_favorite }} == false" />
    <img src="img/icon_2x_trackdropdown_closedheart.png"
    alt="Unfavorite"
    class="hh20"
    data-if="{{= model.is_favorite }} == true" />
    <h2 class="white fs18 strong pl10 pb10">Favorite</h2>
  </div>

  <div class="flex1start active clickable pl20"
      data-on-click="publish"
      data-publish="modal:open"
      data-msg="{'track_id':'{{= model.id }}','template':'modal-playlist-add-tmp'}"><img src="img/icon_2x_trackdropdown_plus.png"
      alt="Add to Playlist"
      class="hh20"/><h2 class="white fs18 strong pl10 pb10">Add to Playlist</h2>
  </div>

  <div class="flex1start active clickable pl20">
    <i class="far fa-user grey fs22"></i>
    <h2 class="white fs18 strong pl10 pb10">View Artist</h2></div>
  <div data-if="{{= model.downloading_community_track }} == false">
    <div class="active clickable pl20 flex1start"
        data-model="{{= session.active.track_id}}"
        data-on-click="model.download_wc"
        data-msg="{{= model.data.track_id }}"
        data-if="{{= model.community_track_downloaded}} == false"
        tg-name="community_hero_download_cloud">
        <i class=" grey fs22 fas fa-cloud-download-alt"></i>
        <h2 class="fs18 white pl10 pb10">Download</h2>
    </div>
  </div>
  <div class="p20" data-if="{{= model.community_track_downloaded}} == true">
    <img src="img/checkCircle.png" alt="Checked Circle" />
  </div>
  <div class="center bt-white white p10 mt10p fs18 strong blue-hover"
      data-on-click="publish"
      data-publish="session:active"
      data-msg="{'secondary':'community-tracks'}">
      <h2 class="fs18 white">Close</h2>
  </div>
  <div class="flex" data-if="{{= model.downloading_community_track }} == true">
    <div class="w100 p20 center pb100 i">
      <div class="mb20 black" data-template="spinner-bounce-tmp"></div>
      <div class="fs18 lh18">
        Downloading track...
      </div>
    </div>
  </div>
</div>
