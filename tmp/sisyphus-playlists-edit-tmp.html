<div class="h100"
    data-model="{{= parent.active.playlist_id }}"
    data-run="model.setup_edit">
  <div class="pull-top white bg-black hh50 w100 center no-stuffing flex vertical-align">
    <div class="w30 left pl20 clickable active">
      <img src="img/icon_2x_trashcan.png"
          alt="Delete"
          class="hh50 pt15 pb15"
          data-model="{{= parent.sisbot_id }}"
          data-if="{{= model.data.favorite_playlist_id }} !== {{= parent.id }}"
          data-on-click="publish"
          data-publish="modal:open"
          data-msg="{'playlist_id':'{{= parent.id }}','template':'modal-playlist-delete-tmp'}" />
    </div>
    <div class="w40">
      <h1 class="fs18 lh18 no-stuffing capitalize">Edit Playlist</h1>
    </div>
    <div class="w30 pull-right fs18 lh18 less_strong right pr20 clickable active"
        data-on-click="model.save_alert"
        tg-name="playlist_save_btn">
      Save
    </div>
  </div>
  <div class="body-header h100"
      tg-name="playlist_edit_page">
    <!--------------------------- PLAYLIST TRACKS EDITING ----------------->
    <div class="pt20 pl40 pr40">
      <div>
        <div class="fs18 lh18 center center strong">{{= model.edit.name }}</div>
        <div class="pt5 fs16 lh18 grey center i truncate" data-if="{{= model.edit.description }} == false">Edit to add a description</div>
        <div class="pt5 fs16 lh18 grey center truncate" data-if="{{= model.edit.description }} !== false">{{= model.edit.description }}</div>
      </div>
      <div class="clickable active center"
          data-on-click="publish"
          data-publish="modal:open"
          data-msg="{'playlist_id':'{{= model.id }}', 'template':'modal-playlist-edit-tmp'}"
          tg-name="playlist_description_edit_btn"
          ><img src="img/icon_2x_playlist_edit_black.png" alt="Edit" class="hh50 pt15 pb15" /></div>
    </div>
    <!--------------------------- ADD TRACKS ------------------------------>
    <div class="bt bb hh50 p20 fs18 flex vertical-align bg-grey-ll-hover clickable active inherit"
      data-on-click="publish"
      data-publish="session:active"
      data-msg="{'secondary':'playlist-edit-tracks'}"
      tg-name="add_tracks_btn">
      <span class="strong">Add Tracks</span>
      <span class="pull-right">
        <img src="img/icon_2x_chevron_right_black.png" alt="View" class="hh50 pt15 pb15" />
      </span>
    </div>
    <!--------------------------- TRACKS ---------------------------------->
    <div class="no-scroll hide-scrollbar"
        data-run="model.order_temp_tracks"
        data-run-msg="{'pos':'active_tracks'}">
      <div class="i center p20" data-if="{{= app.plugins.length(model.active_tracks) }} == 0">
        There are no tracks in this playlist
      </div>
      <div class="scrollDown hide-scrollbar"
          lib-sortable=".reorder"
          data-on-update="model.order_temp_tracks"
          data-msg="{'pos':'active_tracks'}"
          data-field="model.active_tracks"
          data-foreach="model.active_tracks">
        <div class="reorder {{= (scope.index !== 0) ? 'bt' : '' }}"
            data-model="{{= scope.value.id }}"
            data-template="sisyphus-tracks-list-item-edit-tmp"></div>
      </div>
    </div>
  </div>
</div>
